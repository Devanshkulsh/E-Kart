<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>E-Kart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-warning sticky-top shadow-sm px-3">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold fs-3" href="index.html">
                <img src="assets/images/Logo Final.png" height="60" width="150" alt="E-Kart" class="me-2">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
                    <li class="nav-item mx-2">
                        <a class="nav-link active" href="products.html">Products</a>
                    </li>
                    <li class="nav-item mx-2">
                        <a class="nav-link" href="#">Blog</a>
                    </li>
                    <li class="nav-item mx-2">
                        <a class="nav-link" href="#">About Us</a>
                    </li>
                    <li class="nav-item mx-2">
                        <a class="nav-link" href="#">Contact Us</a>
                    </li>
                </ul>

                <form class="d-flex me-3" role="search" onsubmit="searchRedirect(event)">
                    <input class="form-control me-2" type="search" id="search-input"
                        placeholder="Search for products..." aria-label="Search">
                    <button class="btn btn-outline-dark" type="submit"><i class="bi bi-search"></i></button>
                </form>

                <div class="d-flex">
                    <a href="cart.html" class="btn btn-outline-dark me-2">
                        <i class="bi bi-cart"></i>
                        <span id="cart-count" class="badge bg-danger">0</span>
                    </a>

                    <a href="#" class="btn btn-outline-dark"><i class="bi bi-person-circle"></i></a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Single Product -->

    <section id="prodetails" class="section-p1">
        <div class="single-pro-image">
            <img src="assets/images/products/p2.jpg" width="100%" id="main-img">
            <div class="sm-img-grp">
                <div class="sm-img-col">
                    <img src="assets/images/products/p3.jpg" width="100%" class="sm-img">
                </div>
                <div class="sm-img-col">
                    <img src="assets/images/products/p4.jpg" width="100%" class="sm-img">
                </div>
                <div class="sm-img-col">
                    <img src="assets/images/products/p5.jpg" width="100%" class="sm-img">
                </div>
                <div class="sm-img-col">
                    <img src="assets/images/products/p4.jpg" width="100%" class="sm-img">
                </div>
            </div>
        </div>
        <div class="single-pro-details">
            <h4>Men's Developer T Shirt</h4>
            <h2>₹ 799</h2>
            <select>
                <option>Select Size</option>
                <option>S</option>
                <option>M</option>
                <option>L</option>
                <option>XL</option>
                <option>XXL</option>
                <option>XXXL</option>
            </select>
            <input type="number" value="1" id="quantity" min="1">
            <button class="normal add-to-cart" data-id="1 101" data-title="Men's Developer T Shirt" data-price="499"
                data-image="assets/images/products/p2.jpg">Add</button>
            <h4>Product Details</h4>
            <span>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Explicabo sint laborum odit vitae dolore
                error dicta velit iste. Distinctio, maiores repudiandae perspiciatis sunt illum commodi esse magnam
                necessitatibus fugit qui, voluptate aut cupiditate, est ratione provident facilis tempora eum. Et esse
                voluptates odit quasi, iste nihil numquam quaerat saepe minima!</span>
        </div>
    </section>
    <section id="product1" class="section-p1">
        <h2>Similar Products</h2>
        <div class="row g-4">
            <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                <div class="product" onclick="window.location.href='singleProduct.html';">
                    <img src="assets/images/products/p2.jpg" alt="">
                    <div class="des">
                        <span>Brand</span>
                        <h5>Men's Developer T Shirt</h5>
                        <div class="star">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <h4>₹ 599</h4>
                    </div>
                    <button class="add-to-cart" data-id="1" data-title="Product Title" data-price="499">Add to Cart <i
                            class="bi bi-cart"></i></button>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                <div class="product" onclick="window.location.href='singleProduct.html';">
                    <img src="assets/images/products/p3.jpg" alt="">
                    <div class="des">
                        <span>Brand</span>
                        <h5>Men's Developer T Shirt</h5>
                        <div class="star">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <h4>₹ 699</h4>
                    </div>
                    <button class="add-to-cart" data-id="1" data-title="Product Title" data-price="499">Add to Cart <i
                            class="bi bi-cart"></i></button>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                <div class="product" onclick="window.location.href='singleProduct.html';">
                    <img src="assets/images/products/p4.jpg" alt="">
                    <div class="des">
                        <span>Brand</span>
                        <h5>Men's Developer T Shirt</h5>
                        <div class="star">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <h4>₹ 799</h4>
                    </div>
                    <button class="add-to-cart" data-id="1" data-title="Product Title" data-price="499">Add to Cart <i
                            class="bi bi-cart"></i></button>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                <div class="product" onclick="window.location.href='singleProduct.html';">
                    <img src="assets/images/products/p5.jpg" alt="">
                    <div class="des">
                        <span>Brand</span>
                        <h5>Men's Developer T Shirt</h5>
                        <div class="star">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <h4>₹ 899</h4>
                    </div>
                    <button class="add-to-cart" data-id="1" data-title="Product Title" data-price="499">Add to Cart <i
                            class="bi bi-cart"></i></button>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section id="newsletter" class="section-p1 section-m1">
        <div class="newstext">
            <h4>Sign Up For Updates</h4>
            <p>Get updates about what's new and <span>exciting offers.</span></p>
        </div>
        <div class="form">
            <input type="text" placeholder="Enter your email address">
            <button class="normal">Sign Up</button>
        </div>
    </section>

    <!-- Footer -->
    <footer class="section-p1">
        <div class="col">
            <img class="logo" src="assets/images/Logo Final.png" height="60" width="150">
            <h4>Contact Us</h4>
            <p><strong>Address:</strong> xyz, xyz</p>
            <p><strong>Phone:</strong> +91 0123456789</p>
            <p><strong>Hours:</strong> 09:00 - 17:00, Mon - Sat</p>
        </div>

        <div class="col install">
            <h4>Install App</h4>
            <p>From App Store or Google Play</p>
            <div class="d-flex flex-wrap gap-3">
                <img class="store-btn" src="assets/images/Footer/apple_store.webp">
            </div>
            <p>Secured Payment Gateways</p>
            <img src="assets/images/Footer/payments.png">
        </div>
    </footer>

    <!-- Search function -->
    <script>
        function searchRedirect(event) {
            event.preventDefault();
            const query = document.getElementById('search-input').value;
            if (query) {
                window.location.href = `search.html?q=${encodeURIComponent(query)}`;
            } else {
                alert('Please enter a search term');
            }
        }

    </script>

    <!-- Image change function -->
    <script>
        var mainImg = document.getElementById("main-img");
        var smallImg = document.getElementsByClassName("sm-img");
        smallImg[0].onclick = function () {
            mainImg.src = smallImg[0].src;
        }
        smallImg[1].onclick = function () {
            mainImg.src = smallImg[1].src;
        }
        smallImg[2].onclick = function () {
            mainImg.src = smallImg[2].src;
        }
        smallImg[3].onclick = function () {
            mainImg.src = smallImg[3].src;
        }
    </script>



    <!-- Add to cart function -->

    <script>
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => {
                const qty = parseInt(item.quantity) || 0;
                return sum + qty;
            }, 0);
            document.getElementById('cart-count').textContent = totalItems;
        }

        function addToCart(product) {
            const existing = cart.find(item => item.id === product.id);
            if (existing) {
                existing.quantity = Number(existing.quantity) + Number(product.quantity);
            } else {
                cart.push(product);
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            alert(`${product.title} added to cart!`);
        }

        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', () => {
                const id = button.getAttribute('data-id');
                const name = button.getAttribute('data-name');
                const price = parseFloat(button.getAttribute('data-price'));
                const image = button.getAttribute('data-image');
                const quantityInput = document.getElementById('quantity');
                const quantity = quantityInput && quantityInput.value.trim() !== "" ? parseInt(quantityInput.value, 10) : 1;
                const product = {
                    id: button.getAttribute('data-id'),
                    title: button.getAttribute('data-title'),
                    price: button.getAttribute('data-price'),
                    quantity: quantity
                };
                addToCart(product);
            });
        });

        updateCartCount();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
